<!DOCTYPE html>
<html>
<head>
  <title>Unique URL Assignment</title>
</head>
<body>
  <p id="uniqueUrl"></p>
  <script>
    function assignUniqueUrl() {
      const urls = [
        "https://example.com/url1",
        "https://example.com/url2",
        "https://example.com/url3"
      ];

      // Generate a unique user ID (consider using a more robust method if needed)
      const userId = uuidv4();

      // Retrieve the last assigned index from local storage
      const lastIndexString = localStorage.getItem('lastIndex_' + userId);

      let lastIndex = 0;
      if (lastIndexString !== null) {
        lastIndex = parseInt(lastIndexString);
      }

      // Increment the index and wrap around if necessary
      lastIndex++;
      if (lastIndex >= urls.length) {
        lastIndex = 0;
      }

      // Store the updated index in local storage
      localStorage.setItem('lastIndex_' + userId, lastIndex);

      const url = urls[lastIndex];
      document.getElementById('uniqueUrl').textContent = url;
    }

    function uuidv4() {
      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)); 1 
    }

    assignUniqueUrl();
  </script>
</body>
</html>
